#summary 如何设置运行环境
#labels Phase-Implementation,Phase-Requirements

= 如何设置运行环境 =

== 配置数据库环境 ==
# 安装mysql数据库
	* 下载mysql5.x http://www.mysql.com/downloads/mirror.php?id=403198
	* 解压缩到c:\根目录
	* 下载mysql odbc驱动 http://www.mysql.com/downloads/mirror.php?id=396600

# 启动mysql数据库


# 创建游戏相关的数据库
	>mysql -u root -p 
	
	>create database gamedb;
	
	>create database userdb;
	
	>use gamedb;
	
	>source xxxx\document\db\game.sql;
	
	>source xxxx\document\db\game.sql;
	
	>use userdb;
	
	>source xxxx\document\db\user.sql;
	
	>source xxxx\document\db\user.sql;
	
	
# 创建测试数据
	>mysql -u root -p
	
	>use gamedb;
	
	>call generate_testdata(1000,0);
	
	
# 创建odbc数据源
	打开控制面板 -> 管理工具 -> Data Sources(ODBC)
	
	在system dns或者user dns创建2个odbc数据源
	* gamedb 关联到gamedb数据库
	* userdb 关联到userdb数据库
	
== 配置服务器程序启动环境 ==

# 服务器程序所在的位置是 \run目录，run目录下各个子目录对应了各个功能服务器

# 执行run\setup_debugenv.bat

# 如有必要请修改 run目录下各个子目录中的svrno文件，该文件是服务器的标识文件

# 启动各个应用程序

# 如需在vs2008中调试，请设置工作目录路径到 run\xxx 目录

== 配置测试程序环境 ==

# 服务器测试程序所在的位置是 \tool-run 目录，包括测试程序服务器和测试程序客户端

	* 功能测试只需使用测试程序客户端
	* 压力测试需同时使用2个程序

# 执行tool-run\setup_debugenv.bat
